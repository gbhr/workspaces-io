{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"WorkspacesIO Better than your NAS, probably Documentation : https://workspacesio.app/ Source Code : https://github.com/subdavis/workspacesio Key Features Non-invasive import and indexing of your existing data. We leave your data just as it is on-disk. Simple permissions management. wio create to make new workspaces. wio share to share them with others. Low-friction access to your data. WorkspacesIO grants STS credentials so that users can connect directly to minio for listing, upload, and download operations. You can even continue to use minio/mc or boto3 , with some caveats. Permissions-aware indexing and aggregation across the system. Hub-and-spoke architecture. Run a MinIO node wherever you have data, and it will be available through Workspaces. Even regular users can introduce new nodes into the system and retain full control of their data.","title":"Home"},{"location":"#workspacesio","text":"Better than your NAS, probably Documentation : https://workspacesio.app/ Source Code : https://github.com/subdavis/workspacesio","title":"WorkspacesIO"},{"location":"#key-features","text":"Non-invasive import and indexing of your existing data. We leave your data just as it is on-disk. Simple permissions management. wio create to make new workspaces. wio share to share them with others. Low-friction access to your data. WorkspacesIO grants STS credentials so that users can connect directly to minio for listing, upload, and download operations. You can even continue to use minio/mc or boto3 , with some caveats. Permissions-aware indexing and aggregation across the system. Hub-and-spoke architecture. Run a MinIO node wherever you have data, and it will be available through Workspaces. Even regular users can introduce new nodes into the system and retain full control of their data.","title":"Key Features"},{"location":"auth/","text":"Auth implementation details OpenID Flow /login triggers an openID flow that ends on /auth Once the JWT is validated, a session token is created and written to","title":"Authentication"},{"location":"auth/#auth-implementation-details","text":"","title":"Auth implementation details"},{"location":"auth/#openid-flow","text":"/login triggers an openID flow that ends on /auth Once the JWT is validated, a session token is created and written to","title":"OpenID Flow"},{"location":"design/","text":"Design This document will explore some of the design choices that went into WorkspacesIO. Goal WorkspacesIO provides intuitive object storage, indexing, artifact generation, and data lifecycle management using the very best open source tooling available given the constraints of role-based access control. When possible, WorkspacesIO should provide thin wrapping around existing tools or defer completely in order to provide more power to users. Risk WorkspacesIO does not protect consumers from the API surfaces of its composite stack, MinIO and ElasticSearch in particular. Significant changes in the feature offerings of these tools could cause instability for WorkspacesIO users. Through this added power, users are also less protected. Alternatives Some off-the-shelf data storage solutions would be better for sync/search, but provide poor experience for highly technical end users. No decent command line options, inability to map over existing data volumes. NextCloud Seafile Pydio Cells Other frameworks for managing digital collections provide too little, requiring a large up-front investment and code in order to even determine if the capabilitis meet your needs. https://github.com/inveniosoftware/invenio Everything else is over-specialized. Stack Each component of the stack was chosen for its history and stability among other open source offerings. This stack is intended to mitigate above noted risk. ElasticSearch is peerless. MinIO provides exceptional value to end users by making WorkspacesIO instantly compatible with tons of existing S3 tooling. OpenID Connect via KeyCloak and Auth0 provides flexibility for integration in existing auth realms. Postgres + SQLAlchemy provides a typed ORM with excellent community support. Minimal frontend uses a more experimental stack that promises to be easy to understand for contributors and sustainable for many years. TypeScript Vue 3 Vite Tailwind CSS","title":"Advanced"},{"location":"design/#design","text":"This document will explore some of the design choices that went into WorkspacesIO.","title":"Design"},{"location":"design/#goal","text":"WorkspacesIO provides intuitive object storage, indexing, artifact generation, and data lifecycle management using the very best open source tooling available given the constraints of role-based access control. When possible, WorkspacesIO should provide thin wrapping around existing tools or defer completely in order to provide more power to users.","title":"Goal"},{"location":"design/#risk","text":"WorkspacesIO does not protect consumers from the API surfaces of its composite stack, MinIO and ElasticSearch in particular. Significant changes in the feature offerings of these tools could cause instability for WorkspacesIO users. Through this added power, users are also less protected.","title":"Risk"},{"location":"design/#alternatives","text":"Some off-the-shelf data storage solutions would be better for sync/search, but provide poor experience for highly technical end users. No decent command line options, inability to map over existing data volumes. NextCloud Seafile Pydio Cells Other frameworks for managing digital collections provide too little, requiring a large up-front investment and code in order to even determine if the capabilitis meet your needs. https://github.com/inveniosoftware/invenio Everything else is over-specialized.","title":"Alternatives"},{"location":"design/#stack","text":"Each component of the stack was chosen for its history and stability among other open source offerings. This stack is intended to mitigate above noted risk. ElasticSearch is peerless. MinIO provides exceptional value to end users by making WorkspacesIO instantly compatible with tons of existing S3 tooling. OpenID Connect via KeyCloak and Auth0 provides flexibility for integration in existing auth realms. Postgres + SQLAlchemy provides a typed ORM with excellent community support. Minimal frontend uses a more experimental stack that promises to be easy to understand for contributors and sustainable for many years. TypeScript Vue 3 Vite Tailwind CSS","title":"Stack"},{"location":"user-guide/","text":"User Getting Started Guide This section is intended as a user guide and assumes you have a running server . See the server config docs for help getting an instance running. WorkspacesIO has a web app for file browsing, search, etc. All administrative tasks and config are done through the wio cli. Installation # with pip pip install workspacesio-cli # with pipx pipx install workspacesio-cli # verify installation wio --version Client configuration To get an API token for the cli, visit http(s)://yourserver.com/app/ and visit the token section. wio --api-url http://yourserver.com/api \\ login \\ --access-key {access_key} \\ --secret-key {secret_key} Verify the login. wio info Note the location of your configuration file. Your credentials are stored unencrypted. Common commands # Show the help wio --help # Show subcommand help wio <command> --help # List your workspaces wio workspace ls # List your nodes wio node ls Managing workspaces","title":"Getting Started"},{"location":"user-guide/#user-getting-started-guide","text":"This section is intended as a user guide and assumes you have a running server . See the server config docs for help getting an instance running. WorkspacesIO has a web app for file browsing, search, etc. All administrative tasks and config are done through the wio cli.","title":"User Getting Started Guide"},{"location":"user-guide/#installation","text":"# with pip pip install workspacesio-cli # with pipx pipx install workspacesio-cli # verify installation wio --version","title":"Installation"},{"location":"user-guide/#client-configuration","text":"To get an API token for the cli, visit http(s)://yourserver.com/app/ and visit the token section. wio --api-url http://yourserver.com/api \\ login \\ --access-key {access_key} \\ --secret-key {secret_key} Verify the login. wio info Note the location of your configuration file. Your credentials are stored unencrypted.","title":"Client configuration"},{"location":"user-guide/#common-commands","text":"# Show the help wio --help # Show subcommand help wio <command> --help # List your workspaces wio workspace ls # List your nodes wio node ls","title":"Common commands"},{"location":"user-guide/#managing-workspaces","text":"","title":"Managing workspaces"},{"location":"admin/administrator-guide/","text":"Server Administrator Guide Getting Started WorkspacesIO is an OpenID Oauth2 application. It should support most OpenID auth providers. Auth0 (recommended) Google (tested) You'll need to create an OAuth app if you intend to use more than the defalt root admin user. Docker Compose This is the easiest way to get started","title":"Administrator Guide"},{"location":"admin/administrator-guide/#server-administrator-guide","text":"","title":"Server Administrator Guide"},{"location":"admin/administrator-guide/#getting-started","text":"WorkspacesIO is an OpenID Oauth2 application. It should support most OpenID auth providers. Auth0 (recommended) Google (tested) You'll need to create an OAuth app if you intend to use more than the defalt root admin user.","title":"Getting Started"},{"location":"admin/administrator-guide/#docker-compose","text":"This is the easiest way to get started","title":"Docker Compose"},{"location":"admin/s3/","text":"AWS S3 Workspaces This section will only cover the parts of node and root configuration that are different from MinIO. S3 is more complicated than MinIO because some configuration must be done in AWS Console before you configure your root. AWS Console config You will need An aws account An s3 bucket An IAM user with... full permissions to your bucket permissions to perfor STS assume role. AWS credentials for that user , not your root account. Your IAM policy for STS should look something like this. { \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"VisualEditor0\", \"Effect\": \"Allow\", \"Action\": [ \"sts:GetSessionToken\", \"sts:DecodeAuthorizationMessage\", \"sts:GetAccessKeyInfo\", \"sts:GetCallerIdentity\", \"sts:GetServiceBearerToken\" ], \"Resource\": \"*\" }, { \"Sid\": \"VisualEditor1\", \"Effect\": \"Allow\", \"Action\": \"sts:*\", \"Resource\": [ \"arn:aws:iam::*:user/*\", \"<ROLE_ARN>\" ] } ] } Your IAM policy for S3 should look something like this { \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"VisualEditor0\", \"Effect\": \"Allow\", \"Action\": [ \"s3:PutAnalyticsConfiguration\", \"s3:GetObjectVersionTagging\", \"s3:DeleteAccessPoint\", \"s3:CreateBucket\", \"s3:ReplicateObject\", \"s3:GetObjectAcl\", \"s3:GetBucketObjectLockConfiguration\", \"s3:DeleteBucketWebsite\", \"s3:PutLifecycleConfiguration\", \"s3:GetObjectVersionAcl\", \"s3:HeadBucket\", \"s3:DeleteObject\", \"s3:GetBucketPolicyStatus\", \"s3:GetObjectRetention\", \"s3:GetBucketWebsite\", \"s3:GetJobTagging\", \"s3:ListJobs\", \"s3:PutReplicationConfiguration\", \"s3:PutObjectLegalHold\", \"s3:GetObjectLegalHold\", \"s3:GetBucketNotification\", \"s3:PutBucketCORS\", \"s3:GetReplicationConfiguration\", \"s3:ListMultipartUploadParts\", \"s3:PutObject\", \"s3:GetObject\", \"s3:PutBucketNotification\", \"s3:DescribeJob\", \"s3:PutBucketLogging\", \"s3:GetAnalyticsConfiguration\", \"s3:PutBucketObjectLockConfiguration\", \"s3:GetObjectVersionForReplication\", \"s3:CreateJob\", \"s3:CreateAccessPoint\", \"s3:GetLifecycleConfiguration\", \"s3:GetAccessPoint\", \"s3:GetInventoryConfiguration\", \"s3:GetBucketTagging\", \"s3:PutAccelerateConfiguration\", \"s3:DeleteObjectVersion\", \"s3:GetBucketLogging\", \"s3:ListBucketVersions\", \"s3:RestoreObject\", \"s3:ListBucket\", \"s3:GetAccelerateConfiguration\", \"s3:GetBucketPolicy\", \"s3:PutEncryptionConfiguration\", \"s3:GetEncryptionConfiguration\", \"s3:GetObjectVersionTorrent\", \"s3:AbortMultipartUpload\", \"s3:GetBucketRequestPayment\", \"s3:GetAccessPointPolicyStatus\", \"s3:UpdateJobPriority\", \"s3:GetObjectTagging\", \"s3:GetMetricsConfiguration\", \"s3:DeleteBucket\", \"s3:PutBucketVersioning\", \"s3:GetBucketPublicAccessBlock\", \"s3:ListBucketMultipartUploads\", \"s3:ListAccessPoints\", \"s3:PutMetricsConfiguration\", \"s3:UpdateJobStatus\", \"s3:GetBucketVersioning\", \"s3:GetBucketAcl\", \"s3:PutInventoryConfiguration\", \"s3:GetObjectTorrent\", \"s3:GetAccountPublicAccessBlock\", \"s3:PutBucketWebsite\", \"s3:ListAllMyBuckets\", \"s3:PutBucketRequestPayment\", \"s3:PutObjectRetention\", \"s3:GetBucketCORS\", \"s3:GetBucketLocation\", \"s3:GetAccessPointPolicy\", \"s3:ReplicateDelete\", \"s3:GetObjectVersion\" ], \"Resource\": \"*\" } ] } Node configuration wio node create <node_name> \\ --sts-api-url https://sts.amazonaws.com \\ --region-name <region> \\ --role-arn <role-ARN> \\ https://s3.us-east-1.amazonaws.com \\ ACCESS_KEY_ID \\ SECRET_KEY_ID Next, we configure buckets to act as workspace roots. wio root create \\ --root-type public --base-path public_base_path/ \\ <bucket_name> <node_name> Base path is optional but necessary if you want to put multiple roots into the same bucket, such as both public and private. If you want to map existing S3 data into workspaces, the process is the same as in MinIO.","title":"S3 guide"},{"location":"admin/s3/#aws-s3-workspaces","text":"This section will only cover the parts of node and root configuration that are different from MinIO. S3 is more complicated than MinIO because some configuration must be done in AWS Console before you configure your root.","title":"AWS S3 Workspaces"},{"location":"admin/s3/#aws-console-config","text":"You will need An aws account An s3 bucket An IAM user with... full permissions to your bucket permissions to perfor STS assume role. AWS credentials for that user , not your root account. Your IAM policy for STS should look something like this. { \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"VisualEditor0\", \"Effect\": \"Allow\", \"Action\": [ \"sts:GetSessionToken\", \"sts:DecodeAuthorizationMessage\", \"sts:GetAccessKeyInfo\", \"sts:GetCallerIdentity\", \"sts:GetServiceBearerToken\" ], \"Resource\": \"*\" }, { \"Sid\": \"VisualEditor1\", \"Effect\": \"Allow\", \"Action\": \"sts:*\", \"Resource\": [ \"arn:aws:iam::*:user/*\", \"<ROLE_ARN>\" ] } ] } Your IAM policy for S3 should look something like this { \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"VisualEditor0\", \"Effect\": \"Allow\", \"Action\": [ \"s3:PutAnalyticsConfiguration\", \"s3:GetObjectVersionTagging\", \"s3:DeleteAccessPoint\", \"s3:CreateBucket\", \"s3:ReplicateObject\", \"s3:GetObjectAcl\", \"s3:GetBucketObjectLockConfiguration\", \"s3:DeleteBucketWebsite\", \"s3:PutLifecycleConfiguration\", \"s3:GetObjectVersionAcl\", \"s3:HeadBucket\", \"s3:DeleteObject\", \"s3:GetBucketPolicyStatus\", \"s3:GetObjectRetention\", \"s3:GetBucketWebsite\", \"s3:GetJobTagging\", \"s3:ListJobs\", \"s3:PutReplicationConfiguration\", \"s3:PutObjectLegalHold\", \"s3:GetObjectLegalHold\", \"s3:GetBucketNotification\", \"s3:PutBucketCORS\", \"s3:GetReplicationConfiguration\", \"s3:ListMultipartUploadParts\", \"s3:PutObject\", \"s3:GetObject\", \"s3:PutBucketNotification\", \"s3:DescribeJob\", \"s3:PutBucketLogging\", \"s3:GetAnalyticsConfiguration\", \"s3:PutBucketObjectLockConfiguration\", \"s3:GetObjectVersionForReplication\", \"s3:CreateJob\", \"s3:CreateAccessPoint\", \"s3:GetLifecycleConfiguration\", \"s3:GetAccessPoint\", \"s3:GetInventoryConfiguration\", \"s3:GetBucketTagging\", \"s3:PutAccelerateConfiguration\", \"s3:DeleteObjectVersion\", \"s3:GetBucketLogging\", \"s3:ListBucketVersions\", \"s3:RestoreObject\", \"s3:ListBucket\", \"s3:GetAccelerateConfiguration\", \"s3:GetBucketPolicy\", \"s3:PutEncryptionConfiguration\", \"s3:GetEncryptionConfiguration\", \"s3:GetObjectVersionTorrent\", \"s3:AbortMultipartUpload\", \"s3:GetBucketRequestPayment\", \"s3:GetAccessPointPolicyStatus\", \"s3:UpdateJobPriority\", \"s3:GetObjectTagging\", \"s3:GetMetricsConfiguration\", \"s3:DeleteBucket\", \"s3:PutBucketVersioning\", \"s3:GetBucketPublicAccessBlock\", \"s3:ListBucketMultipartUploads\", \"s3:ListAccessPoints\", \"s3:PutMetricsConfiguration\", \"s3:UpdateJobStatus\", \"s3:GetBucketVersioning\", \"s3:GetBucketAcl\", \"s3:PutInventoryConfiguration\", \"s3:GetObjectTorrent\", \"s3:GetAccountPublicAccessBlock\", \"s3:PutBucketWebsite\", \"s3:ListAllMyBuckets\", \"s3:PutBucketRequestPayment\", \"s3:PutObjectRetention\", \"s3:GetBucketCORS\", \"s3:GetBucketLocation\", \"s3:GetAccessPointPolicy\", \"s3:ReplicateDelete\", \"s3:GetObjectVersion\" ], \"Resource\": \"*\" } ] }","title":"AWS Console config"},{"location":"admin/s3/#node-configuration","text":"wio node create <node_name> \\ --sts-api-url https://sts.amazonaws.com \\ --region-name <region> \\ --role-arn <role-ARN> \\ https://s3.us-east-1.amazonaws.com \\ ACCESS_KEY_ID \\ SECRET_KEY_ID Next, we configure buckets to act as workspace roots. wio root create \\ --root-type public --base-path public_base_path/ \\ <bucket_name> <node_name> Base path is optional but necessary if you want to put multiple roots into the same bucket, such as both public and private. If you want to map existing S3 data into workspaces, the process is the same as in MinIO.","title":"Node configuration"}]}